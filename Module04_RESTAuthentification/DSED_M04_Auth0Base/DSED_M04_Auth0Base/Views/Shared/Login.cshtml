@page
@using Microsoft.AspNetCore.Authentication
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Mvc.RazorPages
@using System.Threading.Tasks

@{
    ViewData["Title"] = "Login";
    var isAuthenticated = User.Identity.IsAuthenticated;
}

<h1>Authentification</h1>

@if (!isAuthenticated)
{
    <p>Vous n'êtes pas connecté.</p>
    <form method="post" asp-page-handler="Login">
        <button type="submit" class="btn btn-primary">Se connecter</button>
    </form>
}
else
{
    <p>Bienvenue, @User.Identity.Name !</p>
    <form method="post" asp-page-handler="Logout">
        <button type="submit" class="btn btn-danger">Se déconnecter</button>
    </form>
}
